
<!doctype html>
<html>
  <head>
<style type="text/css">
.knitr .inline {
  background-color: #f7f7f7;
  border:solid 1px #B0B0B0;
}
.error {
	font-weight: bold;
	color: #FF0000;
}
.warning {
	font-weight: bold;
}
.message {
	font-style: italic;
}
.source, .output, .warning, .error, .message {
	padding: 0 1em;
  border:solid 1px #F7F7F7;
}
.source {
  background-color: #f5f5f5;
}
.rimage .left {
  text-align: left;
}
.rimage .right {
  text-align: right;
}
.rimage .center {
  text-align: center;
}
.hl.num {
  color: #AF0F91;
}
.hl.str {
  color: #317ECC;
}
.hl.com {
  color: #AD95AF;
  font-style: italic;
}
.hl.opt {
  color: #000000;
}
.hl.std {
  color: #585858;
}
.hl.kwa {
  color: #295F94;
  font-weight: bold;
}
.hl.kwb {
  color: #B05A65;
}
.hl.kwc {
  color: #55aa55;
}
.hl.kwd {
  color: #BC5A65;
  font-weight: bold;
}
</style>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Arran by fergustaylor</title>

    <link rel="stylesheet" href="/Arran/assets/css/style.css?v=28786238c22eac3a8a3567ab633df4c8a1c5c97d">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Arran</h1>
        <p></p>

        
          <p class="view"><a href="https://github.com/fergustaylor/Arran">View the Project on GitHub <small></small></a></p>
        

        

        
      </header>
      <section>

      <h1 id="arran">Arran</h1>

<p>Below is the code I used.</p>

<div class="chunk" id="unnamed-chunk-1"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl com"># this uses the sf package to create a new object called sg</span>
<span class="hl com"># sg is a dataframe, there is one column called geometry with all the useful map info</span>
<span class="hl kwd">library</span><span class="hl std">(sf)</span>
</pre></div>
<div class="message"><pre class="knitr r">## Linking to GEOS 3.4.2, GDAL 2.1.2, proj.4 4.9.1
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(ggplot2)</span> <span class="hl com">#development version!</span>
<span class="hl kwd">library</span><span class="hl std">(tidyverse)</span>
</pre></div>
<div class="message"><pre class="knitr r">## Loading tidyverse: tibble
## Loading tidyverse: tidyr
## Loading tidyverse: readr
## Loading tidyverse: purrr
## Loading tidyverse: dplyr
</pre></div>
<div class="message"><pre class="knitr r">## Conflicts with tidy packages ----------------------------------------------
</pre></div>
<div class="message"><pre class="knitr r">## filter(): dplyr, stats
## lag():    dplyr, stats
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Multiplot code</span>
<span class="hl com">#http://www.cookbook-r.com/Graphs/Multiple_graphs_on_one_page_(ggplot2)/</span>
<span class="hl com"># ggplot objects can be passed in ..., or to plotlist (as a list of ggplot objects)</span>
<span class="hl com"># - cols:   Number of columns in layout</span>
<span class="hl com"># - layout: A matrix specifying the layout. If present, 'cols' is ignored.</span>
<span class="hl com">#</span>
<span class="hl com"># If the layout is something like matrix(c(1,2,3,3), nrow=2, byrow=TRUE),</span>
<span class="hl com"># then plot 1 will go in the upper left, 2 will go in the upper right, and</span>
<span class="hl com"># 3 will go all the way across the bottom.</span>
<span class="hl com">#</span>
<span class="hl std">multiplot</span> <span class="hl kwb">&lt;-</span> <span class="hl kwa">function</span><span class="hl std">(</span><span class="hl kwc">...</span><span class="hl std">,</span> <span class="hl kwc">plotlist</span><span class="hl std">=</span><span class="hl kwa">NULL</span><span class="hl std">,</span> <span class="hl kwc">file</span><span class="hl std">,</span> <span class="hl kwc">cols</span><span class="hl std">=</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwc">layout</span><span class="hl std">=</span><span class="hl kwa">NULL</span><span class="hl std">) {</span>
  <span class="hl kwd">library</span><span class="hl std">(grid)</span>

  <span class="hl com"># Make a list from the ... arguments and plotlist</span>
  <span class="hl std">plots</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl kwd">list</span><span class="hl std">(...), plotlist)</span>

  <span class="hl std">numPlots</span> <span class="hl kwb">=</span> <span class="hl kwd">length</span><span class="hl std">(plots)</span>

  <span class="hl com"># If layout is NULL, then use 'cols' to determine layout</span>
  <span class="hl kwa">if</span> <span class="hl std">(</span><span class="hl kwd">is.null</span><span class="hl std">(layout)) {</span>
    <span class="hl com"># Make the panel</span>
    <span class="hl com"># ncol: Number of columns of plots</span>
    <span class="hl com"># nrow: Number of rows needed, calculated from # of cols</span>
    <span class="hl std">layout</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">matrix</span><span class="hl std">(</span><span class="hl kwd">seq</span><span class="hl std">(</span><span class="hl num">1</span><span class="hl std">, cols</span> <span class="hl opt">*</span> <span class="hl kwd">ceiling</span><span class="hl std">(numPlots</span><span class="hl opt">/</span><span class="hl std">cols)),</span>
                     <span class="hl kwc">ncol</span> <span class="hl std">= cols,</span> <span class="hl kwc">nrow</span> <span class="hl std">=</span> <span class="hl kwd">ceiling</span><span class="hl std">(numPlots</span><span class="hl opt">/</span><span class="hl std">cols))</span>
  <span class="hl std">}</span>

  <span class="hl kwa">if</span> <span class="hl std">(numPlots</span><span class="hl opt">==</span><span class="hl num">1</span><span class="hl std">) {</span>
    <span class="hl kwd">print</span><span class="hl std">(plots[[</span><span class="hl num">1</span><span class="hl std">]])</span>

  <span class="hl std">}</span> <span class="hl kwa">else</span> <span class="hl std">{</span>
    <span class="hl com"># Set up the page</span>
    <span class="hl kwd">grid.newpage</span><span class="hl std">()</span>
    <span class="hl kwd">pushViewport</span><span class="hl std">(</span><span class="hl kwd">viewport</span><span class="hl std">(</span><span class="hl kwc">layout</span> <span class="hl std">=</span> <span class="hl kwd">grid.layout</span><span class="hl std">(</span><span class="hl kwd">nrow</span><span class="hl std">(layout),</span> <span class="hl kwd">ncol</span><span class="hl std">(layout))))</span>

    <span class="hl com"># Make each plot, in the correct location</span>
    <span class="hl kwa">for</span> <span class="hl std">(i</span> <span class="hl kwa">in</span> <span class="hl num">1</span><span class="hl opt">:</span><span class="hl std">numPlots) {</span>
      <span class="hl com"># Get the i,j matrix positions of the regions that contain this subplot</span>
      <span class="hl std">matchidx</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">as.data.frame</span><span class="hl std">(</span><span class="hl kwd">which</span><span class="hl std">(layout</span> <span class="hl opt">==</span> <span class="hl std">i,</span> <span class="hl kwc">arr.ind</span> <span class="hl std">=</span> <span class="hl num">TRUE</span><span class="hl std">))</span>

      <span class="hl kwd">print</span><span class="hl std">(plots[[i]],</span> <span class="hl kwc">vp</span> <span class="hl std">=</span> <span class="hl kwd">viewport</span><span class="hl std">(</span><span class="hl kwc">layout.pos.row</span> <span class="hl std">= matchidx</span><span class="hl opt">$</span><span class="hl std">row,</span>
                                      <span class="hl kwc">layout.pos.col</span> <span class="hl std">= matchidx</span><span class="hl opt">$</span><span class="hl std">col))</span>
    <span class="hl std">}</span>
  <span class="hl std">}</span>
<span class="hl std">}</span>

<span class="hl com">#Import SIMD data from http://www.gov.scot/Topics/Statistics/SIMD</span>
<span class="hl com">#The &quot;new data zone boundaries with SIMD16 ranks (zipped shapefile)&quot;</span>
<span class="hl com">#'2011 Data Zone boundaries'</span>

<span class="hl std">DZBoundaries2016</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">read_sf</span><span class="hl std">(</span><span class="hl str">&quot;./alldata/SG_SIMD_2016&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Cannot open data source ./alldata/SG_SIMD_2016
</pre></div>
<div class="error"><pre class="knitr r">## Error in CPL_read_ogr(dsn, layer, as.character(options), quiet, type, : Open failed.
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#https://data.gov.uk/dataset/scottish-index-of-multiple-deprivation-simd-2012</span>
<span class="hl com">#https://data.gov.uk/dataset/scottish-index-of-multiple-deprivation-simd-2012/resource/d6fa8924-83da-4e80-a560-4ef0477f230b</span>
<span class="hl std">DZBoundaries2012</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">read_sf</span><span class="hl std">(</span><span class="hl str">&quot;./alldata/SG_SIMD_2012&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Cannot open data source ./alldata/SG_SIMD_2012
</pre></div>
<div class="error"><pre class="knitr r">## Error in CPL_read_ogr(dsn, layer, as.character(options), quiet, type, : Open failed.
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">DZBoundaries2009</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">read_sf</span><span class="hl std">(</span><span class="hl str">&quot;./alldata/SG_SIMD_2009&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Cannot open data source ./alldata/SG_SIMD_2009
</pre></div>
<div class="error"><pre class="knitr r">## Error in CPL_read_ogr(dsn, layer, as.character(options), quiet, type, : Open failed.
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">DZBoundaries2006</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">read_sf</span><span class="hl std">(</span><span class="hl str">&quot;./alldata/SG_SIMD_2006&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Cannot open data source ./alldata/SG_SIMD_2006
</pre></div>
<div class="error"><pre class="knitr r">## Error in CPL_read_ogr(dsn, layer, as.character(options), quiet, type, : Open failed.
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">DZBoundaries2004</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">read_sf</span><span class="hl std">(</span><span class="hl str">&quot;./alldata/SG_SIMD_2004&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Cannot open data source ./alldata/SG_SIMD_2004
</pre></div>
<div class="error"><pre class="knitr r">## Error in CPL_read_ogr(dsn, layer, as.character(options), quiet, type, : Open failed.
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Look at data from 2016</span>
<span class="hl std">SIMD2016</span> <span class="hl kwb">&lt;-</span><span class="hl kwd">read.csv</span><span class="hl std">(</span><span class="hl str">&quot;./alldata/00505244.csv&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning in file(file, &quot;rt&quot;): cannot open file './alldata/00505244.csv': No
## such file or directory
</pre></div>
<div class="error"><pre class="knitr r">## Error in file(file, &quot;rt&quot;): cannot open the connection
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">SIMD20162</span> <span class="hl kwb">&lt;-</span><span class="hl kwd">read_sf</span><span class="hl std">(</span><span class="hl str">&quot;./alldata/SG_SIMD_2016&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="output"><pre class="knitr r">## Cannot open data source ./alldata/SG_SIMD_2016
</pre></div>
<div class="error"><pre class="knitr r">## Error in CPL_read_ogr(dsn, layer, as.character(options), quiet, type, : Open failed.
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Look at data from 2012</span>
<span class="hl std">SIMD2012</span> <span class="hl kwb">&lt;-</span> <span class="hl std">readxl</span><span class="hl opt">::</span><span class="hl kwd">read_excel</span><span class="hl std">(</span><span class="hl str">&quot;./alldata/SIMD2012/00410770.xls&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in read_fun(path = path, sheet = sheet, limits = limits, shim = shim, : path[1]=&quot;./alldata/SIMD2012/00410770.xls&quot;: No such file or directory
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">SIMD20122</span> <span class="hl kwb">&lt;-</span> <span class="hl std">readxl</span><span class="hl opt">::</span><span class="hl kwd">read_excel</span><span class="hl std">(</span><span class="hl str">&quot;./alldata/SIMD2012/00416552.xls&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in read_fun(path = path, sheet = sheet, limits = limits, shim = shim, : path[1]=&quot;./alldata/SIMD2012/00416552.xls&quot;: No such file or directory
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Look at data from 2009</span>
<span class="hl std">SIMD2009</span> <span class="hl kwb">&lt;-</span> <span class="hl std">readxl</span><span class="hl opt">::</span><span class="hl kwd">read_excel</span><span class="hl std">(</span><span class="hl str">&quot;./alldata/SIMD2009/0096578.xls&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in read_fun(path = path, sheet = sheet, limits = limits, shim = shim, : path[1]=&quot;./alldata/SIMD2009/0096578.xls&quot;: No such file or directory
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">SIMD20092</span> <span class="hl kwb">&lt;-</span> <span class="hl std">readxl</span><span class="hl opt">::</span><span class="hl kwd">read_excel</span><span class="hl std">(</span><span class="hl str">&quot;./alldata/SIMD2009/0097806.xls&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in read_fun(path = path, sheet = sheet, limits = limits, shim = shim, : path[1]=&quot;./alldata/SIMD2009/0097806.xls&quot;: No such file or directory
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Look at data from 2006</span>
<span class="hl com"># 2009 data - SIMD2006 &lt;- readxl::read_excel(&quot;./alldata/SIMD2006/0096578.xls&quot;)</span>
<span class="hl std">SIMD20062</span> <span class="hl kwb">&lt;-</span> <span class="hl std">readxl</span><span class="hl opt">::</span><span class="hl kwd">read_excel</span><span class="hl std">(</span><span class="hl str">&quot;./alldata/SIMD2006/0097880.xls&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in read_fun(path = path, sheet = sheet, limits = limits, shim = shim, : path[1]=&quot;./alldata/SIMD2006/0097880.xls&quot;: No such file or directory
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Look at data from 2004</span>
<span class="hl std">SIMD2004</span> <span class="hl kwb">&lt;-</span> <span class="hl std">readxl</span><span class="hl opt">::</span><span class="hl kwd">read_excel</span><span class="hl std">(</span><span class="hl str">&quot;./alldata/SIMD2004/0027003.xls&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in read_fun(path = path, sheet = sheet, limits = limits, shim = shim, : path[1]=&quot;./alldata/SIMD2004/0027003.xls&quot;: No such file or directory
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Selecting ArranDZ2016</span>
<span class="hl std">Arrandz</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">4672</span><span class="hl std">,</span><span class="hl num">4666</span><span class="hl std">,</span><span class="hl num">4669</span><span class="hl std">,</span><span class="hl num">4671</span><span class="hl std">,</span><span class="hl num">4667</span><span class="hl std">,</span><span class="hl num">4668</span><span class="hl std">,</span><span class="hl num">4670</span><span class="hl std">)</span>

<span class="hl com">#Health domain rank</span>
<span class="hl com">#2016</span>
<span class="hl std">arran2016</span> <span class="hl kwb">&lt;-</span> <span class="hl std">SIMD20162[Arrandz,]</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(expr, envir, enclos): object 'SIMD20162' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Find postcode look-up, KA27 postcodes. Find unique DZ. Find row positions.</span>

<span class="hl com">#Selecting ArranDZ2012</span>
<span class="hl std">Arrandz2012</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">4409</span><span class="hl std">,</span><span class="hl num">4372</span><span class="hl std">,</span><span class="hl num">4353</span><span class="hl std">,</span><span class="hl num">4352</span><span class="hl std">,</span><span class="hl num">4351</span><span class="hl std">,</span><span class="hl num">4350</span><span class="hl std">,</span><span class="hl num">4349</span><span class="hl std">)</span>

<span class="hl com">#2012</span>
<span class="hl std">arran2012</span> <span class="hl kwb">&lt;-</span> <span class="hl std">DZBoundaries2012[Arrandz2012,]</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(expr, envir, enclos): object 'DZBoundaries2012' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#2009</span>
<span class="hl std">arran2009</span> <span class="hl kwb">&lt;-</span> <span class="hl std">DZBoundaries2009[Arrandz2012,]</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(expr, envir, enclos): object 'DZBoundaries2009' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#2006</span>
<span class="hl std">arran2006</span> <span class="hl kwb">&lt;-</span> <span class="hl std">DZBoundaries2006[Arrandz2012,]</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(expr, envir, enclos): object 'DZBoundaries2006' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#2004</span>
<span class="hl std">arran2004</span> <span class="hl kwb">&lt;-</span> <span class="hl std">DZBoundaries2004[Arrandz2012,]</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(expr, envir, enclos): object 'DZBoundaries2004' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Plot 2016</span>
<span class="hl std">arran2016</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">ggplot</span><span class="hl std">()</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_sf</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">fill</span> <span class="hl std">= DataZone))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(lhs, parent, parent): object 'arran2016' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Plot 2012</span>
<span class="hl std">arran2012</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">ggplot</span><span class="hl std">()</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_sf</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">fill</span> <span class="hl std">= DataZone))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(lhs, parent, parent): object 'arran2012' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">arran2012</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">ggplot</span><span class="hl std">()</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_sf</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">fill</span> <span class="hl std">= Percentile))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(lhs, parent, parent): object 'arran2012' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Plot 2009</span>
<span class="hl std">arran2009</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">ggplot</span><span class="hl std">()</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_sf</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">fill</span> <span class="hl std">= DataZone))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(lhs, parent, parent): object 'arran2009' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">arran2009</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">ggplot</span><span class="hl std">()</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_sf</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">fill</span> <span class="hl std">= Percentile))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(lhs, parent, parent): object 'arran2009' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Plot 2006</span>
<span class="hl std">arran2006</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">ggplot</span><span class="hl std">()</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_sf</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">fill</span> <span class="hl std">= DataZone))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(lhs, parent, parent): object 'arran2006' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">arran2006</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">ggplot</span><span class="hl std">()</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_sf</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">fill</span> <span class="hl std">= Percentile))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(lhs, parent, parent): object 'arran2006' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Plot 2004</span>
<span class="hl std">arran2004</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">ggplot</span><span class="hl std">()</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_sf</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">fill</span> <span class="hl std">= DataZone))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(lhs, parent, parent): object 'arran2004' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">arran2004</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">ggplot</span><span class="hl std">()</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_sf</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">fill</span> <span class="hl std">= Percentile))</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(lhs, parent, parent): object 'arran2004' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">##Plot graphs together</span>

<span class="hl com">#Plot 2016</span>
<span class="hl std">p1</span> <span class="hl kwb">&lt;-</span> <span class="hl std">arran2016</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">ggplot</span><span class="hl std">()</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_sf</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">fill</span> <span class="hl std">= Percentile))</span> <span class="hl opt">+</span>
  <span class="hl kwd">ggtitle</span><span class="hl std">(</span><span class="hl str">&quot;2016&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(lhs, parent, parent): object 'arran2016' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Plot 2012</span>
<span class="hl std">p2</span> <span class="hl kwb">&lt;-</span> <span class="hl std">arran2012</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">ggplot</span><span class="hl std">()</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_sf</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">fill</span> <span class="hl std">= Percentile))</span> <span class="hl opt">+</span>
  <span class="hl kwd">ggtitle</span><span class="hl std">(</span><span class="hl str">&quot;2012&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(lhs, parent, parent): object 'arran2012' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Plot 2009</span>
<span class="hl std">p3</span> <span class="hl kwb">&lt;-</span> <span class="hl std">arran2009</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">ggplot</span><span class="hl std">()</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_sf</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">fill</span> <span class="hl std">= Percentile))</span> <span class="hl opt">+</span>
  <span class="hl kwd">ggtitle</span><span class="hl std">(</span><span class="hl str">&quot;2009&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(lhs, parent, parent): object 'arran2009' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Plot 2006</span>
<span class="hl std">p4</span> <span class="hl kwb">&lt;-</span> <span class="hl std">arran2006</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">ggplot</span><span class="hl std">()</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_sf</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">fill</span> <span class="hl std">= Percentile))</span> <span class="hl opt">+</span>
  <span class="hl kwd">ggtitle</span><span class="hl std">(</span><span class="hl str">&quot;2006&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(lhs, parent, parent): object 'arran2006' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com">#Plot 2004</span>
<span class="hl std">p5</span> <span class="hl kwb">&lt;-</span> <span class="hl std">arran2004</span> <span class="hl opt">%&gt;%</span>
  <span class="hl kwd">ggplot</span><span class="hl std">()</span> <span class="hl opt">+</span>
  <span class="hl kwd">geom_sf</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">fill</span> <span class="hl std">= Percentile))</span> <span class="hl opt">+</span>
  <span class="hl kwd">ggtitle</span><span class="hl std">(</span><span class="hl str">&quot;2004&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(lhs, parent, parent): object 'arran2004' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">multiplot</span><span class="hl std">(p1, p2, p3, p4, p5,</span> <span class="hl kwc">cols</span><span class="hl std">=</span><span class="hl num">3</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in multiplot(p1, p2, p3, p4, p5, cols = 3): object 'p1' not found
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">multiplot</span><span class="hl std">(p1, p2, p3, p4, p5,</span> <span class="hl kwc">cols</span><span class="hl std">=</span><span class="hl num">3</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">ggtitle</span><span class="hl std">(</span><span class="hl str">&quot;SIMD Percentiles 2004-2016&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in multiplot(p1, p2, p3, p4, p5, cols = 3): object 'p1' not found
</pre></div>
</div></div>
     
      </section>
      <footer>
        
        <p>This project is maintained by <a href="https://github.com/fergustaylor">fergustaylor</a></p>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="/Arran/assets/js/scale.fix.js"></script>


  
  </body>
</html>
